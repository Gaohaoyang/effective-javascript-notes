# 第8条 尽量少用全局对象

* 避免声明全局变量。
* 尽量声明局部变量。
* 避免对全局对象添加属性。
* 使用全局对象来做平台特性检测。

---

定义全局变量会污染共享的公共命名空间，并可能导致意外的命名冲突。全局变量不利于模块化，因为他会导致程序汇中独立组件间的不必要耦合。

由于全局命名空间是 JavaScript 程序中独立的巨剑进行交互的唯一途径，因此，利用全局命名空间的情况是不可避免的。除非不得已，否则，最好尽量使用局部变量。

JavaScript 的全局命名空间也会暴露为在程序全局作用域中可以王文的全局对象，该对象作为 `this` 关键字的初始值。

```js
this.foo;//undefined
foo = 'global foo';
this.foo;//"global foo"
```

更新全局对象也会自动更新全局命名空间：

```js
var foo = 'global foo';
this.foo = 'changed';
foo;//"changed"
```

由于全局对象提供了全局环境的动态反应机制，所以可以使用它查询一个运行环境，即：

* **使用全局对象来做平台特性检测。**

```js
if (!this.JSON) {
    this.JSON = {
        parse:...
        stringify:...
    }
}
```
